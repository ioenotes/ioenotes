{{ define "main" }}
  <section class="py-12">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        {{ partial "components/breadcrumb.html" (dict "Context" . "Class" "mb-8") }}
        
        <!-- Header Section -->
        <div class="bg-body dark:bg-darkmode-body rounded-xl border border-border dark:border-darkmode-border overflow-hidden mb-8">
          <div class="relative w-full aspect-[3/1] bg-light dark:bg-darkmode-light">
            <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500">
            <div class="absolute inset-0 bg-gradient-to-t from-text-dark/70 via-text-dark/30 to-transparent dark:from-darkmode-text-dark/70 dark:via-darkmode-text-dark/30"></div>
          </div>
          
          <div class="p-8 relative">
            {{/* Get faculty and year/part from frontmatter */}}
            {{ $faculty := .Params.faculty }}
            {{ $yearpart := printf "[%s/%s]" .Params.year .Params.part }}

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <!-- Left side - Title and Subject Code -->
              <div>
                {{ if .Params.subject }}
                  <div class="flex items-center gap-4 mb-3">
                    <h2 class="text-2xl font-bold text-text-dark dark:text-darkmode-text-dark tracking-tight">{{ .Params.subject }}</h2>
                    {{ if .Params.subject_code }}
                      <span class="px-3 py-1 text-sm font-medium text-body dark:text-darkmode-body bg-primary/10 dark:bg-darkmode-primary/10 text-primary dark:text-darkmode-primary rounded-lg border border-primary/20 dark:border-darkmode-primary/20">{{ .Params.subject_code }}</span>
                    {{ end }}
                  </div>
                  
                  {{ $syllabus := printf "%s %s Syllabus" $faculty $yearpart }}
                  <h3 class="text-lg font-medium text-text-light dark:text-darkmode-text-light tracking-wide">{{ $syllabus }}</h3>
                {{ else }}
                  <h2 class="text-2xl font-bold text-text-dark dark:text-darkmode-text-dark tracking-tight">{{ .Title }}</h2>
                {{ end }}
              </div>

              <!-- Right side - Hours and Details -->
              <div class="flex items-start">
                <div class="h-full w-px bg-border dark:bg-darkmode-border mr-8"></div>
                <div class="flex flex-col gap-0.5">
                  {{ if .Params.lecture }}
                  <div>
                    <span class="text-sm text-text-light dark:text-darkmode-text-light">Lecture - {{ .Params.lecture }}</span>
                  </div>
                  {{ end }}
                  
                  {{ if .Params.tutorial }}
                  <div>
                    <span class="text-sm text-text-light dark:text-darkmode-text-light">Tutorial - {{ .Params.tutorial }}</span>
                  </div>
                  {{ end }}
                  
                  {{ if .Params.practical }}
                  <div>
                    <span class="text-sm text-text-light dark:text-darkmode-text-light">Practical - {{ .Params.practical }}</span>
                  </div>
                  {{ end }}
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Content Section -->
        <div class="bg-body dark:bg-darkmode-body dark:border-darkmode-border py-8 mb-8">
          <div class="prose dark:prose-invert max-w-none">
            {{ .Content }}
          </div>

          <!-- Navigation Buttons -->
          {{ partial "components/navigation-buttons.html" . }}
        </div>
        
        <!-- Contribution Section -->
        <div class="mt-8">
          {{ partial "contribution-section.html" . }}
        </div>
      </div>
    </div>
  </section>
{{ end }}
